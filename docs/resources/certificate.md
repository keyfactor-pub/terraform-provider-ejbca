---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ejbca_certificate Resource - terraform-provider-ejbca"
subcategory: ""
description: |-
  The EJBCA Certificate Resource allows you to enroll certificates with client-generated keys (IE keys not generated by EJBCA)
  with EJBCA according to a certificate profile, end entity profile, and CA. When ejbca_certificate resources are created,
  an End Entity is created in EJBCA which is not deleted when the resource is destroyed. If this is behavior that is
  desired, please use the ejbca_end_entity resource to generate the end entity, and reference the end entity name
  in the end_entity_name attribute of the ejbca_certificate resource.
  EJBCA API Usage
  POST /v1/certificate/pkcs10enroll - Used to enroll a certificate with a PKCS#10 Certificate Signing RequestPOST /v1/certificate/search - Used to search for a certificate by serial numberGET /v1/ca/{subject_dn}/certificate/download - Used to download the CA certificate chain if it was not provided in the response from /v1/certificate/searchPUT /v1/certificate/{issuer_dn}/{certificate_serial_number}/revoke - Used to revoke a certificate
---

# ejbca_certificate (Resource)

The EJBCA Certificate Resource allows you to enroll certificates with client-generated keys (IE keys not generated by EJBCA)
with EJBCA according to a certificate profile, end entity profile, and CA. When `ejbca_certificate` resources are created,
an End Entity is created in EJBCA which is **not** deleted when the resource is destroyed. If this is behavior that is
desired, please use the `ejbca_end_entity` resource to generate the end entity, and reference the end entity name
in the `end_entity_name` attribute of the `ejbca_certificate` resource.

## EJBCA API Usage
* `POST /v1/certificate/pkcs10enroll` - Used to enroll a certificate with a PKCS#10 Certificate Signing Request
* `POST /v1/certificate/search` - Used to search for a certificate by serial number
* `GET /v1/ca/{subject_dn}/certificate/download` - Used to download the CA certificate chain if it was not provided in the response from `/v1/certificate/search`
* `PUT /v1/certificate/{issuer_dn}/{certificate_serial_number}/revoke` - Used to revoke a certificate

## Example Usage

```terraform
# Create a private key
resource "tls_private_key" "rsa_4096" {
  # Create a private key for the certificate request.
  algorithm = "RSA"
  rsa_bits  = 2048
}

# Create a new CSR
resource "tls_cert_request" "csr" {
  # Create a CSR using the TLS private key above
  private_key_pem = tls_private_key.rsa_4096.private_key_pem

  subject {
    common_name         = "mycsr.kfdelivery.com"
    organizational_unit = "IT"
  }
}

# Sign the CSR with EJBCA
resource "ejbca_certificate" "Certificate" {
  certificate_signing_request = tls_cert_request.csr.cert_request_pem
  certificate_profile_name    = "tlsServerAuth"
  end_entity_profile_name     = "endEntityProfileName"
  certificate_authority_name  = "ManagementCA"
  end_entity_name             = "ejbca_tf_demo"
  end_entity_password         = "password"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `certificate_authority_name` (String) EJBCA Certificate Authority Name used to sign the certificate
- `certificate_profile_name` (String) EJBCA Certificate Profile Name to use for the certificate
- `certificate_signing_request` (String) PKCS#10 Certificate Signing Request
- `end_entity_name` (String) Name of the EJBCA entity to create for the certificate
- `end_entity_password` (String) Password of the EJBCA entity
- `end_entity_profile_name` (String) EJBCA End Entity Profile Name to use for the certificate

### Read-Only

- `certificate` (String) PEM encoded X509v3 certificate and chain
- `id` (String) Serial number of the certificate
- `issuer_dn` (String) Distinguished name of the certificate issuer


